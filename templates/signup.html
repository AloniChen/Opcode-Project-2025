<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DeliverySim • Create your account</title>
  <style>
    :root{
      --bg:#484849;        /* page background */
      --card:#ffffff;      /* surface */
      --text:#1f2937;      /* primary text */
      --muted:#6b7280;     /* secondary text */
      --primary:#F6BD1A;   /* accent */
      --ring:0 0 0 4px rgba(246,189,26,.25);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text); background:var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    .wrapper{ min-height:100%; display:grid; place-items:center; padding:24px }

    /* Card */
    .card{
      width:min(960px, 100%);
      background:var(--card);
      border-radius:var(--radius);
      box-shadow: 0 30px 60px rgba(0,0,0,.35);
      overflow:hidden;
      display:grid;
      grid-template-columns: 1.15fr .85fr; /* form | showcase */
    }
    @media (max-width: 920px){ .card{ grid-template-columns: 1fr; } }

    /* Left: form */
    .form-side{ padding: clamp(20px, 5vw, 40px); }

    .badge{ display:inline-flex; align-items:center; gap:10px; margin:0 auto 10px; background:var(--primary); color:#1f2937; font-weight:800; letter-spacing:.2px; padding:8px 14px; border-radius:999px; box-shadow:0 6px 20px rgba(246,189,26,.35); }
    .badge svg{ width:18px; height:18px; }

    h1.title{ margin:6px 0 6px; font-size: clamp(24px, 3.2vw, 34px); line-height:1.1; font-weight:900; }
    p.muted{ margin:0 0 16px; color:var(--muted); }

    .form{ display:grid; gap:14px; }
    .grid{ display:grid; gap:12px; grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-1{ display:grid; gap:12px; grid-template-columns: 1fr; }
    .span-2{ grid-column: span 2; }
    @media (max-width:680px){ .grid{ grid-template-columns:1fr; } .span-2{ grid-column:auto; } }

    .field{ display:flex; flex-direction:column; gap:6px; }
    .label{ font-size:.92rem; font-weight:700; color:#374151; }

    .input, .select, .textarea{ appearance:none; height:46px; border-radius:12px; border:1px solid #e5e7eb; background:#fff; outline:0; padding:0 12px; font-size:15px; transition: box-shadow .15s ease, border-color .15s ease, background-color .2s ease; }
    .textarea{ min-height:90px; padding:10px 12px; resize:vertical; }
    .input:focus, .select:focus, .textarea:focus{ border-color:var(--primary); box-shadow:var(--ring); }
    .hint{ font-size:.85rem; color:#9ca3af; }

    .pw-wrap{ position:relative; }
    .pw-toggle{ position:absolute; right:10px; top:50%; transform:translateY(-50%); border:0; background:transparent; cursor:pointer; padding:6px; }

    .meter{ height:8px; border-radius:999px; background:#f3f4f6; overflow:hidden; }
    .meter > span{ display:block; height:100%; width:0%; background:linear-gradient(90deg, #ef4444, #f59e0b, #22c55e); transition:width .25s ease; }

    .fieldset{ border:1px solid #eef0f2; border-radius:14px; padding:14px; }
    .legend{ font-weight:800; color:#374151; padding:0 6px; }

    .actions{ display:grid; gap:10px; margin-top:6px; }
    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; height:48px; border-radius:12px; border:1px solid transparent; font-weight:800; cursor:pointer; user-select:none; transition:transform .05s ease, filter .15s ease, box-shadow .15s ease; }
    .btn:active{ transform:translateY(1px); }
    .btn-primary{ background:var(--primary); color:#1f2937; box-shadow:0 10px 18px rgba(246,189,26,.35); }
    .btn-primary:hover{ filter:brightness(.98); }
    .btn-ghost{ background:#fff; border-color:#e5e7eb; }

    .note{ text-align:center; color:var(--muted); font-size:.95rem; }
    .note a{ color:var(--primary); font-weight:800; text-decoration:none; }

    .toast{ position:fixed; left:50%; bottom:20px; transform:translateX(-50%); background:#111827; color:#e5e7eb; padding:10px 14px; border-radius:12px; display:none; }

    /* Right: showcase (no ambient gradients) */
    .showcase{ position:relative; background:transparent; display:grid; align-content:center; justify-items:center; padding: clamp(20px, 5vw, 40px); }

    .phone{ width:min(330px, 70vw); aspect-ratio:9/19.5; border-radius:34px; background:#0f172a; box-shadow:0 20px 60px rgba(0,0,0,.45); padding:14px; position:relative; }
    .notch{ width:50%; height:18px; background:#111827; border-bottom-left-radius:12px; border-bottom-right-radius:12px; position:absolute; left:50%; transform:translateX(-50%); top:0; }
    .screen{ width:100%; height:100%; border-radius:20px; background:#111827; padding:16px; display:grid; gap:12px; color:#e5e7eb; }
    .pill{ height:36px; border-radius:999px; display:flex; align-items:center; padding:0 12px; background:rgba(255,255,255,.08); gap:10px; }
    .pill .dot{ width:10px; height:10px; border-radius:999px; background:var(--primary); box-shadow:0 0 0 4px rgba(246,189,26,.18); }
    .order{ background:#111827; border-radius:14px; padding:12px; display:grid; gap:8px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.05); }
    .order .row{ display:flex; align-items:center; justify-content:space-between; }
    .tag{ padding:4px 10px; border-radius:999px; background:rgba(246,189,26,.18); color:#fde68a; font-weight:700; font-size:.8rem; }

    footer.small{ text-align:center; color:#9ca3af; font-size:.8rem; margin-top:16px; }
  </style>
</head>
<body>
  <!-- Removed floating "blob" effects and radial gradient backgrounds -->

  <main class="wrapper">
    <section class="card" role="region" aria-labelledby="title">
      <!-- FORM SIDE -->
      <div class="form-side">
        <div class="badge" aria-hidden="true">
          <!-- box icon -->
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 7.5 12 3l9 4.5-9 4.5L3 7.5Z" fill="#1f2937" opacity=".15"/><path d="M3 7.5 12 12l9-4.5M3 7.5V16.5L12 21l9-4.5V7.5M12 12V21" stroke="#1f2937" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          DeliverySim
        </div>
        <h1 id="title" class="title">Create your account</h1>
        <p class="muted">Get started with quick deliveries, smart tracking, and a tidy dashboard.</p>

        <form class="form" id="signupForm" method="post" action="{{ url_for('signup', user_type='customers') }}" novalidate>
          <div class="grid">
            <!-- NEW: Customer ID (keeps same structure/appearance) -->
            <label class="field">
              <span class="label">Customer ID</span>
              <input class="input" name="customer_id" placeholder="e.g., CUST12345" />
            </label>

            <label class="field">
              <span class="label">Full name</span>
              <input class="input" name="full_name" required placeholder="e.g., Dana Levi" />
            </label>
            <label class="field">
              <span class="label">Phone</span>
              <input class="input" name="phone" required inputmode="tel" placeholder="+972-50-1234567" />
            </label>
            <label class="field">
              <span class="label">Email</span>
              <input class="input" name="email" type="email" required placeholder="name@example.com" />
            </label>
            <label class="field pw-wrap">
              <span class="label">Password</span>
              <input class="input" id="pw" name="password" type="password" minlength="6" required placeholder="At least 6 characters" />
              <button class="pw-toggle" type="button" aria-label="Show password" title="Show/Hide" id="pwToggle">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
            </label>
          </div>

          <div class="meter" aria-hidden="true"><span id="pwMeter"></span></div>
          <div class="hint" id="pwHint">Password strength</div>

          <fieldset class="fieldset">
            <legend class="legend">Address</legend>
            <div class="grid">
              <label class="field"><span class="label">Street</span><input class="input" name="street" placeholder="Herzl" /></label>
              <label class="field"><span class="label">House number</span><input class="input" name="house_number" placeholder="12" /></label>
              <label class="field"><span class="label">Apartment (optional)</span><input class="input" name="apartment" placeholder="5A" /></label>
              <label class="field"><span class="label">Floor (optional)</span><input class="input" name="floor" placeholder="3" /></label>
              <label class="field"><span class="label">City</span><input class="input" name="city" placeholder="Tel Aviv" /></label>
              <label class="field"><span class="label">Postal code</span><input class="input" name="postal_code" placeholder="6100000" /></label>
              <label class="field span-2"><span class="label">Message to courier (optional)</span><input class="input" name="message_to_courier" placeholder="Gate code, buzzer, etc." /></label>
            </div>
          </fieldset>

          <div class="actions">
            <button class="btn btn-primary" type="submit">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#1f2937" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12h14"/></svg>
              Create Account
            </button>
            <button class="btn btn-ghost" type="button" onclick="demoFill()">Fill demo data</button>
            <div class="note">
             Already have an account? <a href="{{ url_for('login_page', user_type='customers') }}">Log in</a>
            </div>

          </div>
        </form>
        <footer class="small">By creating an account you agree to our Terms and Privacy Policy.</footer>
      </div>

      <!-- SHOWCASE SIDE (clean, no ambient gradient) -->
      <div class="showcase" aria-hidden="true">
        <div class="phone">
          <div class="notch"></div>
          <div class="screen">
            <div class="pill"><span class="dot"></span> New order assigned</div>
            <div class="order">
              <div class="row"><strong>Pickup</strong><span class="tag">2.4 km</span></div>
              <div class="row"><span>Yehuda Halevi 25</span><span>12:30</span></div>
            </div>
            <div class="order">
              <div class="row"><strong>Dropoff</strong><span class="tag">ETA 14 min</span></div>
              <div class="row"><span>Herzl 90</span><span>13:05</span></div>
            </div>
            <div class="pill"><span class="dot"></span> Live courier tracking enabled</div>
          </div>
        </div>
        <footer class="small">Fast • Reliable • Delightful</footer>
      </div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite">Account created (demo)</div>

  <script>
    // Simple password strength + toggle
    const pw = document.getElementById('pw');
    const bar = document.getElementById('pwMeter');
    const hint = document.getElementById('pwHint');
    const toggle = document.getElementById('pwToggle');

    function strength(v){
      let s = 0; if(v.length>=6) s++; if(/[A-Z]/.test(v)) s++; if(/[a-z]/.test(v)) s++; if(/\d/.test(v)) s++; if(/[^\w]/.test(v)) s++;
      return Math.min(s,5);
    }
    function render(){
      const s = strength(pw.value);
      const pct = [0,20,40,65,85,100][s];
      bar.style.width = pct + '%';
      const labels = ['Too short','Weak','Okay','Good','Strong','Excellent'];
      hint.textContent = 'Password strength: ' + labels[s];
    }
    pw.addEventListener('input', render); render();

    toggle.addEventListener('click', ()=>{
      const t = pw.getAttribute('type')==='password'?'text':'password';
      pw.setAttribute('type', t);
    });

    // Demo submit
    const form = document.getElementById('signupForm');
    const toast = document.getElementById('toast');
    /*form.addEventListener('submit', (e)=>{
      e.preventDefault();
      toast.style.display='block';
      setTimeout(()=>toast.style.display='none', 2000);
    });*/

    function demoFill(){
      const f = form.elements;
      f.customer_id && (f.customer_id.value='CUST12345');
      f.full_name.value='Dana Levi';
      f.phone.value='+972-50-1234567';
      f.email.value='dana@example.com';
      f.password.value='Dana123!'; render();
      f.street.value='Herzl'; f.house_number.value='12'; f.apartment.value='5A'; f.floor.value='3'; f.city.value='Tel Aviv'; f.postal_code.value='6100000';
      f.message_to_courier.value='Gate code 1234#';
    }
  </script>
</body>
</html>
